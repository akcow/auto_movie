# 项目结构说明

## 📁 根目录文件

### 🚀 主要程序
| 文件名 | 用途 | 说明 |
|--------|------|------|
| `enhanced_main.py` | **主程序（推荐）** | 带友好界面的增强版主程序，支持交互式操作 |
| `main.py` | 原版主程序 | 命令行版本，适合脚本调用 |
| `batch_process.py` | 批量处理工具 | 批量处理多个小说文件 |

### ⚙️ 配置文件
| 文件名 | 用途 | 说明 |
|--------|------|------|
| `config.yaml.example` | 完整配置模板 | 包含所有可配置选项的详细模板 |
| `config.simple.yaml` | 简化配置模板 | 新手友好的简化配置模板 |
| `config.yaml` | 用户配置文件 | 用户的实际配置（需自己创建） |
| `requirements.txt` | Python依赖 | pip安装依赖包清单 |

### 📖 项目文档
| 文件名 | 用途 | 说明 |
|--------|------|------|
| `README.md` | 项目介绍 | 项目概述和快速开始指南 |
| `LICENSE` | 开源许可证 | MIT许可证 |
| `VERSION` | 版本号 | 当前版本号(v1.0.0) |

### 🧪 示例文件
| 文件名 | 用途 | 说明 |
|--------|------|------|
| `sample_novel.txt` | 示例小说 | 用于测试的示例文本文件 |

## 📁 核心目录

### 🔧 `processors/` - 核心处理模块
| 文件 | 功能 | 说明 |
|------|------|------|
| `parser.py` | 文本解析 | 解析小说文本，识别章节结构 |
| `llm_client.py` | LLM调用 | 调用豆包大语言模型生成分镜脚本 |
| `image_gen.py` | 图像生成 | 调用文生图API生成场景图片 |
| `video_gen.py` | 视频生成 | 调用图生视频API制作动态视频 |
| `tts_client.py` | 语音合成 | 调用TTS API生成语音旁白 |
| `video_editor.py` | 视频编辑 | 使用FFmpeg进行视频合成和编辑 |

### 🛠️ `utils/` - 工具模块
| 文件 | 功能 | 说明 |
|------|------|------|
| `cli_interface.py` | CLI界面 | 交互式命令行界面组件 |
| `error_handler.py` | 错误处理 | 智能错误分类和恢复机制 |
| `database.py` | 数据管理 | SQLite数据库管理，任务历史 |
| `logger.py` | 日志系统 | 结构化日志记录 |
| `file_utils.py` | 文件工具 | 文件操作和路径管理 |
| `api_utils.py` | API工具 | API调用封装和重试机制 |

### 🧪 `tests/` - 测试套件
| 文件 | 功能 | 说明 |
|------|------|------|
| `test_*.py` | 单元测试 | 各模块的单元测试用例 |

### 📝 `prompts/` - 提示词模板
| 文件 | 功能 | 说明 |
|------|------|------|
| `storyboard.txt` | 分镜脚本模板 | LLM生成分镜脚本的提示词 |
| `image_prompt.txt` | 图片生成模板 | 文生图的提示词模板 |
| `video_prompt.txt` | 视频生成模板 | 图生视频的提示词模板 |

### 📂 `data/` - 数据目录
| 子目录 | 用途 | 说明 |
|--------|------|------|
| `temp/` | 临时文件 | 处理过程中的临时文件 |
| `output/` | 输出视频 | 生成的最终视频文件 |
| `database.db` | 数据库文件 | 任务历史和统计信息 |

### 📋 `logs/` - 日志目录
| 文件 | 用途 | 说明 |
|------|------|------|
| `app.log` | 应用日志 | 详细的运行日志记录 |

## 📁 整理后的目录

### 📖 `docs/` - 文档目录
| 文件 | 用途 | 说明 |
|------|------|------|
| `使用说明.md` | 详细使用指南 | 650+行的完整使用文档 |
| `API申请指南.md` | API申请说明 | 火山引擎API服务申请指南 |
| `CHANGELOG.md` | 更新日志 | 版本更新记录和功能变更 |
| `release_checklist.md` | 发布清单 | 项目发布前的检查项目 |

### 🔧 `scripts/` - 工具脚本
| 文件 | 用途 | 说明 |
|------|------|------|
| `simple_optimize.py` | 性能优化脚本 | 清理临时文件，优化系统性能 |
| `optimize_performance.py` | 高级优化脚本 | 详细的性能分析和优化 |

### 📦 `archive/` - 归档文件
| 文件/目录 | 用途 | 说明 |
|-----------|------|------|
| `开发文档/` | 开发阶段文档 | 开发过程中的技术文档 |
| `Day*_开发报告.md` | 开发日报 | 各开发阶段的进度报告 |
| `test_*.py` | 历史测试文件 | 开发过程中的测试脚本 |
| `*.db` | 测试数据库 | 测试过程中生成的数据库文件 |

## 🎯 文件使用优先级

### 🌟 新用户必须文件
1. `README.md` - 了解项目概况
2. `docs/使用说明.md` - 详细使用指南
3. `config.simple.yaml` - 简化配置模板
4. `enhanced_main.py` - 主程序

### ⚙️ 配置和部署
1. `requirements.txt` - 安装依赖
2. `docs/API申请指南.md` - 申请API服务
3. `config.yaml.example` - 完整配置参考

### 🔧 维护和优化
1. `scripts/simple_optimize.py` - 系统优化
2. `logs/app.log` - 查看运行日志
3. `data/database.db` - 查看任务历史

---

**建议新用户按照 🌟 优先级顺序阅读文档，然后进行配置和使用。**