# å°è¯´è½¬è§†é¢‘è‡ªåŠ¨åŒ–å·¥å…· - è¯¦ç»†ä½¿ç”¨æŒ‡å—

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒå‡†å¤‡

#### ç³»ç»Ÿè¦æ±‚
- **Python**: 3.8 æˆ–ä»¥ä¸Šç‰ˆæœ¬
- **FFmpeg**: 4.4 æˆ–ä»¥ä¸Šç‰ˆæœ¬
- **æ“ä½œç³»ç»Ÿ**: Windows 10+, macOS 10.15+, Ubuntu 18.04+
- **å†…å­˜**: å»ºè®® 2GB ä»¥ä¸Š
- **å­˜å‚¨**: æ¯ä¸ªè§†é¢‘éœ€è¦çº¦ 100MB ä¸´æ—¶ç©ºé—´

#### å®‰è£…ä¾èµ–
```bash
# 1. å®‰è£…Pythonä¾èµ–
pip install -r requirements.txt

# 2. å®‰è£…FFmpeg
# Windows: ä¸‹è½½FFmpegå¹¶æ·»åŠ åˆ°PATHç¯å¢ƒå˜é‡
# https://ffmpeg.org/download.html

# Linux: 
sudo apt install ffmpeg

# macOS:
brew install ffmpeg

# 3. éªŒè¯FFmpegå®‰è£…
ffmpeg -version
```

#### é…ç½®APIå¯†é’¥
```bash
# å¤åˆ¶é…ç½®æ–‡ä»¶æ¨¡æ¿
cp config.yaml.example config.yaml

# ç¼–è¾‘config.yamlï¼Œå¡«å…¥ä½ çš„ç«å±±å¼•æ“APIå¯†é’¥
# è¯¦ç»†ç”³è¯·æ­¥éª¤è¯·å‚è€ƒ APIç”³è¯·æŒ‡å—.md
```

### 2. ä½¿ç”¨æ–¹å¼

#### ğŸŒŸ äº¤äº’å¼æ¨¡å¼ï¼ˆæ¨èæ–°æ‰‹ï¼‰
```bash
# å¯åŠ¨å¢å¼ºç‰ˆäº¤äº’ç•Œé¢
python enhanced_main.py
```
äº¤äº’å¼ç•Œé¢æä¾›ï¼š
- ğŸ“ æ–‡ä»¶é€‰æ‹©å™¨
- ğŸ“Š å®æ—¶è¿›åº¦æ˜¾ç¤º
- ğŸ”„ é”™è¯¯æ¢å¤æœºåˆ¶
- ğŸ“ˆ æˆæœ¬ç»Ÿè®¡
- ğŸ¬ ç»“æœé¢„è§ˆ

#### ğŸ’» å‘½ä»¤è¡Œæ¨¡å¼ï¼ˆé€‚åˆè‡ªåŠ¨åŒ–ï¼‰
```bash
# å¤„ç†å•ä¸ªå°è¯´æ–‡ä»¶
python main.py "å°è¯´.txt"

# æ‰¹é‡å¤„ç†
python batch_process.py "å°è¯´ç›®å½•/" --max-concurrent 2

# æŸ¥çœ‹ä»»åŠ¡çŠ¶æ€
python main.py --status task_xxx

# æŸ¥çœ‹ç»Ÿè®¡ä¿¡æ¯
python main.py --stats
python main.py --cost 2024-09-01
```

## ğŸ“ å®Œæ•´é¡¹ç›®ç»“æ„

```
auto_movie/
â”œâ”€â”€ ğŸ¬ ä¸»ç¨‹åºå…¥å£
â”‚   â”œâ”€â”€ enhanced_main.py           # å¢å¼ºç‰ˆä¸»ç¨‹åºï¼ˆæ¨èï¼‰
â”‚   â”œâ”€â”€ main.py                    # åŸç‰ˆä¸»ç¨‹åº
â”‚   â””â”€â”€ batch_process.py           # æ‰¹é‡å¤„ç†å·¥å…·
â”‚
â”œâ”€â”€ âš™ï¸ é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ config.yaml               # ç”¨æˆ·é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ config.yaml.example       # é…ç½®æ¨¡æ¿
â”‚   â””â”€â”€ requirements.txt           # Pythonä¾èµ–
â”‚
â”œâ”€â”€ ğŸ“– æ–‡æ¡£è¯´æ˜
â”‚   â”œâ”€â”€ README.md                 # é¡¹ç›®è¯´æ˜
â”‚   â”œâ”€â”€ ä½¿ç”¨è¯´æ˜.md                # è¯¦ç»†ä½¿ç”¨æŒ‡å—ï¼ˆæœ¬æ–‡æ¡£ï¼‰
â”‚   â””â”€â”€ APIç”³è¯·æŒ‡å—.md             # APIç”³è¯·è¯´æ˜
â”‚
â”œâ”€â”€ ğŸ”§ æ ¸å¿ƒå¤„ç†æ¨¡å—
â”‚   â””â”€â”€ processors/
â”‚       â”œâ”€â”€ parser.py             # æ–‡æœ¬è§£æ âœ…
â”‚       â”œâ”€â”€ llm_client.py         # LLMè°ƒç”¨ âœ…
â”‚       â”œâ”€â”€ image_gen.py          # æ–‡ç”Ÿå›¾ âœ…
â”‚       â”œâ”€â”€ video_gen.py          # å›¾ç”Ÿè§†é¢‘ âœ…
â”‚       â”œâ”€â”€ tts_client.py         # è¯­éŸ³åˆæˆ âœ…
â”‚       â””â”€â”€ video_editor.py       # è§†é¢‘ç¼–è¾‘ âœ…
â”‚
â”œâ”€â”€ ğŸ› ï¸ å·¥å…·æ¨¡å—
â”‚   â””â”€â”€ utils/
â”‚       â”œâ”€â”€ logger.py             # æ—¥å¿—ç³»ç»Ÿ âœ…
â”‚       â”œâ”€â”€ file_utils.py         # æ–‡ä»¶å¤„ç†å·¥å…· âœ…
â”‚       â”œâ”€â”€ api_utils.py          # APIè°ƒç”¨å·¥å…· âœ…
â”‚       â”œâ”€â”€ database.py           # æ•°æ®åº“ç®¡ç† âœ…
â”‚       â”œâ”€â”€ cli_interface.py      # CLIç•Œé¢ âœ…
â”‚       â””â”€â”€ error_handler.py      # é”™è¯¯å¤„ç† âœ…
â”‚
â”œâ”€â”€ ğŸ“ æç¤ºè¯æ¨¡æ¿
â”‚   â””â”€â”€ prompts/
â”‚       â”œâ”€â”€ storyboard.txt        # åˆ†é•œè„šæœ¬æ¨¡æ¿
â”‚       â”œâ”€â”€ image_prompt.txt      # å›¾ç‰‡ç”Ÿæˆæ¨¡æ¿
â”‚       â””â”€â”€ video_prompt.txt      # è§†é¢‘ç”Ÿæˆæ¨¡æ¿
â”‚
â”œâ”€â”€ ğŸ§ª æµ‹è¯•å¥—ä»¶
â”‚   â””â”€â”€ tests/
â”‚       â”œâ”€â”€ test_database.py      # æ•°æ®åº“æµ‹è¯•
â”‚       â”œâ”€â”€ test_llm_client.py    # LLMå®¢æˆ·ç«¯æµ‹è¯•
â”‚       â”œâ”€â”€ test_text_parser.py   # æ–‡æœ¬è§£ææµ‹è¯•
â”‚       â”œâ”€â”€ test_integration.py   # é›†æˆæµ‹è¯•
â”‚       â””â”€â”€ test_edge_cases.py    # è¾¹ç¼˜æƒ…å†µæµ‹è¯•
â”‚
â””â”€â”€ ğŸ“‚ æ•°æ®ç›®å½•
    â”œâ”€â”€ data/
    â”‚   â”œâ”€â”€ temp/                 # ä¸´æ—¶æ–‡ä»¶
    â”‚   â”œâ”€â”€ output/               # è¾“å‡ºè§†é¢‘
    â”‚   â””â”€â”€ database.db           # æœ¬åœ°æ•°æ®åº“
    â””â”€â”€ logs/                     # æ—¥å¿—æ–‡ä»¶
        â””â”€â”€ app.log
```

## âš™ï¸ é…ç½®æ–‡ä»¶è¯¦è§£

### åŸºç¡€é…ç½®
```yaml
# APIé…ç½®
api:
  volcengine:
    access_key: "ä½ çš„AccessKey"
    secret_key: "ä½ çš„SecretKey" 
    region: "cn-beijing"

# æ¨¡å‹ç«¯ç‚¹é…ç½®
models:
  llm_endpoint: "ä½ çš„LLM endpoint"
  text_to_image_endpoint: "ä½ çš„æ–‡ç”Ÿå›¾endpoint"  
  image_to_video_endpoint: "ä½ çš„å›¾ç”Ÿè§†é¢‘endpoint"
  tts_endpoint: "ä½ çš„TTS endpoint"
```

### é«˜çº§é…ç½®
```yaml
# ç”Ÿæˆå‚æ•°
generation:
  max_images: 15                    # æœ€å¤§å›¾ç‰‡æ•°
  video_segments: 3                 # è§†é¢‘ç‰‡æ®µæ•°
  output_resolution: "720p"         # è¾“å‡ºåˆ†è¾¨ç‡
  final_duration_min: 120           # æœ€å°è§†é¢‘æ—¶é•¿(ç§’)
  final_duration_max: 240           # æœ€å¤§è§†é¢‘æ—¶é•¿(ç§’)
  
  # å›¾ç‰‡ç”Ÿæˆé…ç½®
  image_style: "realistic"          # å›¾ç‰‡é£æ ¼: realistic/anime/cartoon
  image_quality: "high"             # å›¾ç‰‡è´¨é‡: normal/high/ultra
  
  # è§†é¢‘ç”Ÿæˆé…ç½®
  video_fps: 24                     # è§†é¢‘å¸§ç‡
  video_quality: "high"             # è§†é¢‘è´¨é‡

# æˆæœ¬æ§åˆ¶
cost_control:
  enable_cost_limit: true
  daily_limit_yuan: 50              # æ¯æ—¥æˆæœ¬ä¸Šé™
  single_task_limit_yuan: 5         # å•ä»»åŠ¡æˆæœ¬ä¸Šé™
  
# æ€§èƒ½ä¼˜åŒ–
performance:
  max_concurrent_requests: 3        # æœ€å¤§å¹¶å‘è¯·æ±‚æ•°
  request_timeout: 300              # è¯·æ±‚è¶…æ—¶æ—¶é—´(ç§’)
  retry_attempts: 3                 # é‡è¯•æ¬¡æ•°
  
# å­˜å‚¨é…ç½®
storage:
  temp_dir: "./data/temp"
  output_dir: "./data/output"
  auto_cleanup: true                # è‡ªåŠ¨æ¸…ç†ä¸´æ—¶æ–‡ä»¶
  keep_days: 7                      # ä¿ç•™å¤©æ•°
```

## ğŸ“– è¯¦ç»†ä½¿ç”¨æµç¨‹

### 1. äº¤äº’å¼ä½¿ç”¨ï¼ˆæ¨èï¼‰

#### å¯åŠ¨å¢å¼ºç‰ˆç•Œé¢
```bash
python enhanced_main.py
```

#### ä¸»èœå•åŠŸèƒ½
- **ğŸ¬ å¼€å§‹æ–°ä»»åŠ¡**: é€‰æ‹©å°è¯´æ–‡ä»¶å¼€å§‹å¤„ç†
- **ğŸ“Š æŸ¥çœ‹çŠ¶æ€**: æŸ¥çœ‹ä»»åŠ¡å†å²å’Œç»Ÿè®¡ä¿¡æ¯
- **âš™ï¸ ç³»ç»Ÿè®¾ç½®**: è°ƒæ•´é…ç½®å‚æ•°
- **â“ å¸®åŠ©ä¿¡æ¯**: æŸ¥çœ‹ä½¿ç”¨å¸®åŠ©
- **ğŸšª é€€å‡ºç¨‹åº**: å®‰å…¨é€€å‡º

#### å¤„ç†è¿‡ç¨‹
1. **æ–‡ä»¶é€‰æ‹©**: é€šè¿‡æ–‡ä»¶æµè§ˆå™¨é€‰æ‹©txtæ–‡ä»¶
2. **é¢„å¤„ç†æ£€æŸ¥**: è‡ªåŠ¨æ£€æµ‹æ–‡ä»¶ç¼–ç å’Œæ ¼å¼
3. **è¿›åº¦æ˜¾ç¤º**: å®æ—¶æ˜¾ç¤ºå„ä¸ªå¤„ç†æ­¥éª¤
4. **é”™è¯¯å¤„ç†**: é‡åˆ°é”™è¯¯æ—¶æä¾›æ¢å¤é€‰é¡¹
5. **ç»“æœé¢„è§ˆ**: å®Œæˆåå¯é¢„è§ˆç”Ÿæˆçš„è§†é¢‘

### 2. å‘½ä»¤è¡Œä½¿ç”¨ï¼ˆé€‚åˆæ‰¹å¤„ç†ï¼‰

#### å•æ–‡ä»¶å¤„ç†
```bash
# åŸºæœ¬ç”¨æ³•
python main.py "path/to/novel.txt"

# æŒ‡å®šè¾“å‡ºç›®å½•
python main.py "novel.txt" --output-dir "my_videos/"

# è®¾ç½®è´¨é‡å‚æ•°
python main.py "novel.txt" --image-quality high --video-fps 30
```

#### æ‰¹é‡å¤„ç†
```bash
# å¤„ç†æ•´ä¸ªç›®å½•
python batch_process.py "novels_dir/" 

# é™åˆ¶å¹¶å‘æ•°å’Œæ–‡ä»¶ç±»å‹
python batch_process.py "novels_dir/" --max-concurrent 2 --pattern "*.txt"

# ç”Ÿæˆå¤„ç†æŠ¥å‘Š
python batch_process.py "novels_dir/" --report "report.json"

# è·³è¿‡å·²å¤„ç†çš„æ–‡ä»¶
python batch_process.py "novels_dir/" --skip-existing
```

#### çŠ¶æ€æŸ¥è¯¢
```bash
# æŸ¥çœ‹ä»»åŠ¡å†å²
python main.py --list

# æŸ¥çœ‹ç‰¹å®šä»»åŠ¡çŠ¶æ€
python main.py --status task_12345

# æŸ¥çœ‹ç»Ÿè®¡ä¿¡æ¯
python main.py --stats

# æŸ¥çœ‹æˆæœ¬ä¿¡æ¯
python main.py --cost 2025-09-01
```

## ğŸ’¡ æœ€ä½³å®è·µ

### 1. å°è¯´æ–‡ä»¶å‡†å¤‡

#### æ”¯æŒçš„æ ¼å¼
- **æ–‡ä»¶ç±»å‹**: .txt, .md
- **ç¼–ç æ ¼å¼**: UTF-8 (æ¨è), GBK, GB2312, Big5
- **æ–‡ä»¶å¤§å°**: å»ºè®® 1KB - 50KB
- **å­—æ•°èŒƒå›´**: 500-5000 å­—æœ€ä½³

#### å†…å®¹è¦æ±‚
```
æ¨èæ ¼å¼:
ç¬¬ä¸€ç«  æ ‡é¢˜
æ­£æ–‡å†…å®¹...

ç¬¬äºŒç«  æ ‡é¢˜  
æ­£æ–‡å†…å®¹...
```

#### å†…å®¹å»ºè®®
- âœ… **æ¸…æ™°çš„æƒ…èŠ‚æè¿°**: ä¾¿äºAIç†è§£å’Œç”Ÿæˆå›¾åƒ
- âœ… **é€‚é‡çš„å¯¹è¯**: å¢åŠ è§†é¢‘è¶£å‘³æ€§
- âœ… **åœºæ™¯æå†™**: å¸®åŠ©ç”Ÿæˆæ›´å‡†ç¡®çš„å›¾ç‰‡
- âŒ **è¿‡å¤šä¸“ä¸šæœ¯è¯­**: å¯èƒ½å½±å“AIç†è§£
- âŒ **çº¯å¯¹è¯å†…å®¹**: ç¼ºå°‘è§†è§‰å…ƒç´ 

### 2. æˆæœ¬æ§åˆ¶ç­–ç•¥

#### æµ‹è¯•é˜¶æ®µ
```bash
# ä½¿ç”¨çŸ­ç¯‡æµ‹è¯•(æ¨è500å­—ä»¥å†…)
python main.py "short_test.txt"

# è®¾ç½®è¾ƒä½çš„æˆæœ¬ä¸Šé™
# åœ¨config.yamlä¸­è®¾ç½®:
cost_control:
  single_task_limit_yuan: 1
```

#### ç”Ÿäº§ä½¿ç”¨
```bash
# æ‰¹é‡å¤„ç†å‰å…ˆä¼°ç®—æˆæœ¬
python batch_process.py "novels/" --estimate-cost

# è®¾ç½®åˆç†çš„æ¯æ—¥é™é¢
cost_control:
  daily_limit_yuan: 50
```

### 3. æ€§èƒ½ä¼˜åŒ–

#### ç³»ç»Ÿèµ„æº
- **å†…å­˜**: å¤„ç†æ—¶å³°å€¼çº¦1.5GBï¼Œå»ºè®®è‡³å°‘2GB
- **å­˜å‚¨**: æ¯ä¸ªè§†é¢‘çº¦100MBä¸´æ—¶ç©ºé—´
- **ç½‘ç»œ**: ç¨³å®šè¿æ¥ï¼Œå»ºè®®10Mbpsä»¥ä¸Š

#### å¹¶å‘è®¾ç½®
```yaml
# æ ¹æ®ç½‘ç»œå’Œç¡¬ä»¶æ¡ä»¶è°ƒæ•´
performance:
  max_concurrent_requests: 2    # ç½‘ç»œè¾ƒæ…¢æ—¶è®¾ä¸º1-2
  request_timeout: 600          # ç½‘ç»œä¸ç¨³å®šæ—¶å¢åŠ è¶…æ—¶
```

## ğŸ”§ æ•…éšœæ’é™¤æŒ‡å—

### å¸¸è§é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ

#### 1. ç¯å¢ƒé…ç½®é—®é¢˜

**é—®é¢˜**: `ModuleNotFoundError: No module named 'xxx'`
```bash
è§£å†³æ–¹æ¡ˆ:
pip install -r requirements.txt
# æˆ–å•ç‹¬å®‰è£…ç¼ºå¤±æ¨¡å—
pip install xxx
```

**é—®é¢˜**: `FFmpeg not found`
```bash
è§£å†³æ–¹æ¡ˆ:
# Windows: ä¸‹è½½FFmpegå¹¶æ·»åŠ åˆ°PATH
# éªŒè¯å®‰è£…: ffmpeg -version

# Linux: 
sudo apt update && sudo apt install ffmpeg

# macOS:
brew install ffmpeg
```

#### 2. APIè°ƒç”¨é—®é¢˜

**é—®é¢˜**: `401 Unauthorized`
```yaml
è§£å†³æ–¹æ¡ˆ:
æ£€æŸ¥config.yamlä¸­çš„APIå¯†é’¥:
api:
  volcengine:
    access_key: "æ­£ç¡®çš„AccessKey"
    secret_key: "æ­£ç¡®çš„SecretKey"
```

**é—®é¢˜**: `429 Rate Limit Exceeded`
```yaml
è§£å†³æ–¹æ¡ˆ:
é™ä½å¹¶å‘æ•°:
performance:
  max_concurrent_requests: 1
  request_timeout: 300
```

**é—®é¢˜**: `ä½™é¢ä¸è¶³`
```bash
è§£å†³æ–¹æ¡ˆ:
1. æ£€æŸ¥ç«å±±å¼•æ“è´¦æˆ·ä½™é¢
2. è°ƒæ•´æˆæœ¬é™åˆ¶:
   cost_control:
     single_task_limit_yuan: 2
```

#### 3. æ–‡ä»¶å¤„ç†é—®é¢˜

**é—®é¢˜**: `UnicodeDecodeError`
```bash
è§£å†³æ–¹æ¡ˆ:
1. ç¡®ä¿æ–‡ä»¶ç¼–ç ä¸ºUTF-8
2. ä½¿ç”¨è®°äº‹æœ¬å¦å­˜ä¸ºUTF-8æ ¼å¼
3. æˆ–åœ¨Linux/Macä½¿ç”¨:
   iconv -f gbk -t utf-8 input.txt > output.txt
```

**é—®é¢˜**: `ç£ç›˜ç©ºé—´ä¸è¶³`
```bash
è§£å†³æ–¹æ¡ˆ:
1. æ¸…ç†ä¸´æ—¶æ–‡ä»¶: rm -rf data/temp/*
2. å¯ç”¨è‡ªåŠ¨æ¸…ç†:
   storage:
     auto_cleanup: true
```

#### 4. æ€§èƒ½é—®é¢˜

**é—®é¢˜**: å¤„ç†é€Ÿåº¦å¾ˆæ…¢
```yaml
è§£å†³æ–¹æ¡ˆ:
1. å¢åŠ å¹¶å‘æ•°(å¦‚æœç½‘ç»œå…è®¸):
   performance:
     max_concurrent_requests: 3

2. ä½¿ç”¨æ›´å¿«çš„æ¨¡å‹é…ç½®:
   generation:
     image_quality: "normal"  # è€Œä¸æ˜¯"high"
```

**é—®é¢˜**: å†…å­˜ä¸è¶³
```yaml
è§£å†³æ–¹æ¡ˆ:
1. å‡å°‘å›¾ç‰‡æ•°é‡:
   generation:
     max_images: 10  # è€Œä¸æ˜¯15

2. é™ä½å›¾ç‰‡åˆ†è¾¨ç‡:
   generation:
     output_resolution: "480p"
```

### æ—¥å¿—åˆ†æ

#### æŸ¥çœ‹æ—¥å¿—
```bash
# æŸ¥çœ‹æœ€æ–°æ—¥å¿—
tail -f logs/app.log

# æŸ¥çœ‹é”™è¯¯æ—¥å¿—
grep ERROR logs/app.log

# æŸ¥çœ‹ç‰¹å®šä»»åŠ¡çš„æ—¥å¿—
grep "task_12345" logs/app.log
```

#### æ—¥å¿—çº§åˆ«è¯´æ˜
- **DEBUG**: è¯¦ç»†è°ƒè¯•ä¿¡æ¯
- **INFO**: æ­£å¸¸å¤„ç†ä¿¡æ¯  
- **WARNING**: è­¦å‘Šä¿¡æ¯
- **ERROR**: é”™è¯¯ä¿¡æ¯
- **CRITICAL**: ä¸¥é‡é”™è¯¯

## ğŸ“Š è¾“å‡ºæ–‡ä»¶è¯´æ˜

### ç”Ÿæˆçš„æ–‡ä»¶ç»“æ„
```
data/output/
â”œâ”€â”€ å°è¯´æ ‡é¢˜_20250901_143022/
â”‚   â”œâ”€â”€ final_video.mp4          # ğŸ¬ æœ€ç»ˆè¾“å‡ºè§†é¢‘
â”‚   â”œâ”€â”€ storyboard.json          # ğŸ“ åˆ†é•œè„šæœ¬
â”‚   â”œâ”€â”€ images/                  # ğŸ–¼ï¸ ç”Ÿæˆçš„å›¾ç‰‡
â”‚   â”‚   â”œâ”€â”€ scene_001.jpg
â”‚   â”‚   â”œâ”€â”€ scene_002.jpg
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ videos/                  # ğŸ¥ è§†é¢‘ç‰‡æ®µ
â”‚   â”‚   â”œâ”€â”€ segment_001.mp4
â”‚   â”‚   â”œâ”€â”€ segment_002.mp4  
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ audio/                   # ğŸ”Š éŸ³é¢‘æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ narration.wav
â”‚   â”‚   â””â”€â”€ narration.srt        # å­—å¹•æ–‡ä»¶
â”‚   â””â”€â”€ metadata.json            # ğŸ“‹ å¤„ç†å…ƒæ•°æ®
```

### è§†é¢‘è§„æ ¼
- **åˆ†è¾¨ç‡**: 720x1280 (9:16 ç«–å±)
- **å¸§ç‡**: 24fps (å¯é…ç½®)
- **ç¼–ç **: H.264
- **éŸ³é¢‘**: AAC 48kHz
- **æ—¶é•¿**: 2-4åˆ†é’Ÿ (å¯é…ç½®)

### è´¨é‡è®¾ç½®å¯¹ç…§

| è´¨é‡ç­‰çº§ | å›¾ç‰‡å°ºå¯¸ | è§†é¢‘ç ç‡ | å¤„ç†æ—¶é—´ | æˆæœ¬ |
|---------|---------|---------|---------|------|
| Normal  | 512x512 | 2Mbps   | 5-8åˆ†é’Ÿ  | Â¥0.8 |
| High    | 768x768 | 4Mbps   | 8-12åˆ†é’Ÿ | Â¥1.2 |
| Ultra   | 1024x1024| 6Mbps  | 12-20åˆ†é’Ÿ| Â¥2.0 |

## ğŸ¯ é«˜çº§åŠŸèƒ½

### 1. è‡ªå®šä¹‰æç¤ºè¯

#### ç¼–è¾‘æç¤ºè¯æ¨¡æ¿
```bash
# ç¼–è¾‘åˆ†é•œè„šæœ¬æ¨¡æ¿
nano prompts/storyboard.txt

# ç¼–è¾‘å›¾ç‰‡ç”Ÿæˆæ¨¡æ¿  
nano prompts/image_prompt.txt

# ç¼–è¾‘è§†é¢‘ç”Ÿæˆæ¨¡æ¿
nano prompts/video_prompt.txt
```

#### ç¤ºä¾‹è‡ªå®šä¹‰æç¤ºè¯
```
# prompts/image_prompt.txt
ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„æ’ç”»å¸ˆï¼Œè¯·æ ¹æ®ä»¥ä¸‹æè¿°ç”Ÿæˆé«˜è´¨é‡çš„æ’å›¾:

åœºæ™¯æè¿°: {scene_description}
äººç‰©: {characters}
é£æ ¼è¦æ±‚: å†™å®é£æ ¼ï¼Œç”µå½±çº§åˆ«çš„å…‰å½±æ•ˆæœ
æ„å›¾: å±…ä¸­æ„å›¾ï¼Œæ³¨æ„æ™¯æ·±
è‰²è°ƒ: æ¸©æš–è‰²è°ƒï¼Œå¢å¼ºæƒ…æ„Ÿè¡¨è¾¾

è¦æ±‚:
1. ç”»é¢æ¸…æ™°ï¼Œç»†èŠ‚ä¸°å¯Œ
2. äººç‰©è¡¨æƒ…ç”ŸåŠ¨
3. èƒŒæ™¯ä¸æƒ…èŠ‚å‘¼åº”
4. ç¬¦åˆ9:16ç«–å±æ¯”ä¾‹
```

### 2. æ‰¹å¤„ç†è„šæœ¬

#### åˆ›å»ºæ‰¹å¤„ç†é…ç½®
```bash
# batch_config.yaml
batch:
  input_dir: "novels/"
  output_dir: "output/"  
  max_concurrent: 2
  file_pattern: "*.txt"
  skip_existing: true
  
  # æ‰¹å¤„ç†ä¸“ç”¨è®¾ç½®
  quality: "normal"        # æ‰¹é‡æ—¶ä½¿ç”¨æ™®é€šè´¨é‡
  enable_preview: false    # å…³é—­é¢„è§ˆåŠ å¿«é€Ÿåº¦
  auto_cleanup: true       # è‡ªåŠ¨æ¸…ç†ä¸´æ—¶æ–‡ä»¶
```

#### è¿è¡Œæ‰¹å¤„ç†
```bash
python batch_process.py --config batch_config.yaml
```

### 3. APIç›‘æ§è„šæœ¬

#### åˆ›å»ºç›‘æ§è„šæœ¬
```python
# monitor.py
import time
from utils.database import DatabaseManager

def monitor_tasks():
    db = DatabaseManager()
    while True:
        stats = db.get_statistics()
        print(f"ä»Šæ—¥ä»»åŠ¡: {stats['today_tasks']}")
        print(f"æˆåŠŸç‡: {stats['success_rate']:.1%}")  
        print(f"ä»Šæ—¥æˆæœ¬: Â¥{stats['today_cost']:.2f}")
        time.sleep(300)  # æ¯5åˆ†é’Ÿæ£€æŸ¥ä¸€æ¬¡

if __name__ == "__main__":
    monitor_tasks()
```

## ğŸ¤– APIæœåŠ¡è¯´æ˜

### ç«å±±å¼•æ“æœåŠ¡ä½¿ç”¨
- **è±†åŒ…å¤§è¯­è¨€æ¨¡å‹**: ç”¨äºç”Ÿæˆåˆ†é•œè„šæœ¬
- **æ–‡ç”Ÿå›¾æœåŠ¡**: ç”Ÿæˆåœºæ™¯æ’å›¾
- **å›¾ç”Ÿè§†é¢‘æœåŠ¡**: å°†å›¾ç‰‡è½¬æ¢ä¸ºåŠ¨æ€è§†é¢‘
- **TTSè¯­éŸ³åˆæˆ**: ç”Ÿæˆæ—ç™½éŸ³é¢‘

### æˆæœ¬è®¡ç®—å…¬å¼
```
æ€»æˆæœ¬ = LLMæˆæœ¬ + æ–‡ç”Ÿå›¾æˆæœ¬ + å›¾ç”Ÿè§†é¢‘æˆæœ¬ + TTSæˆæœ¬

å…¶ä¸­:
- LLMæˆæœ¬ = Tokenæ•° Ã— å•ä»·(Â¥0.01/1000tokens)
- æ–‡ç”Ÿå›¾æˆæœ¬ = å›¾ç‰‡æ•° Ã— å•ä»·(Â¥0.025/å¼ )
- å›¾ç”Ÿè§†é¢‘æˆæœ¬ = è§†é¢‘æ®µæ•° Ã— å•ä»·(Â¥0.15/æ®µ)  
- TTSæˆæœ¬ = å­—ç¬¦æ•° Ã— å•ä»·(Â¥0.0005/å­—ç¬¦)
```

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–å»ºè®®

### 1. ç¡¬ä»¶ä¼˜åŒ–
- **CPU**: å¤šæ ¸å¤„ç†å™¨æå‡å¹¶å‘æ€§èƒ½
- **å†…å­˜**: 16GBæ¨èï¼Œæœ€ä½8GB
- **å­˜å‚¨**: SSDæå‡æ–‡ä»¶è¯»å†™é€Ÿåº¦
- **ç½‘ç»œ**: ç¨³å®šçš„é«˜é€Ÿç½‘ç»œè¿æ¥

### 2. è½¯ä»¶é…ç½®ä¼˜åŒ–
```yaml
# config.yamlä¼˜åŒ–é…ç½®
performance:
  max_concurrent_requests: 4      # æ ¹æ®ç½‘ç»œæƒ…å†µè°ƒæ•´
  request_timeout: 300
  retry_attempts: 3
  connection_pool_size: 10

# ç¼“å­˜é…ç½®
cache:
  enable_image_cache: true        # å¯ç”¨å›¾ç‰‡ç¼“å­˜
  enable_audio_cache: true        # å¯ç”¨éŸ³é¢‘ç¼“å­˜
  cache_expire_days: 30

# å‹ç¼©é…ç½®  
compression:
  enable_image_compression: true   # å¯ç”¨å›¾ç‰‡å‹ç¼©
  image_quality: 85               # JPEGè´¨é‡
  enable_video_compression: true   # å¯ç”¨è§†é¢‘å‹ç¼©
```

## ğŸ†˜ è·å–å¸®åŠ©

### ç¤¾åŒºæ”¯æŒ
- **GitHub Issues**: æŠ¥å‘Šbugå’ŒåŠŸèƒ½è¯·æ±‚
- **æ–‡æ¡£wiki**: è¯¦ç»†æŠ€æœ¯æ–‡æ¡£
- **ç¤ºä¾‹åº“**: æ›´å¤šä½¿ç”¨ç¤ºä¾‹

### è”ç³»æ–¹å¼
å¦‚é‡åˆ°é—®é¢˜ï¼Œè¯·æŒ‰ä»¥ä¸‹é¡ºåºæ’æŸ¥ï¼š

1. **ğŸ“– æŸ¥çœ‹æ–‡æ¡£**: é¦–å…ˆæŸ¥é˜…æœ¬ä½¿ç”¨è¯´æ˜
2. **ğŸ” æ£€æŸ¥æ—¥å¿—**: æŸ¥çœ‹logs/app.logå®šä½é”™è¯¯
3. **âš™ï¸ éªŒè¯é…ç½®**: ç¡®è®¤config.yamlé…ç½®æ­£ç¡®
4. **ğŸŒ æµ‹è¯•ç½‘ç»œ**: ç¡®è®¤APIæœåŠ¡å¯è®¿é—®
5. **ğŸ’¬ å¯»æ±‚å¸®åŠ©**: åœ¨GitHubæissueæˆ–è”ç³»å¼€å‘è€…

### å¸¸ç”¨å‘½ä»¤é€ŸæŸ¥

```bash
# å¿«é€Ÿå¼€å§‹
python enhanced_main.py

# å‘½ä»¤è¡Œå¤„ç†
python main.py "novel.txt"

# æ‰¹é‡å¤„ç†
python batch_process.py "novels/"

# æŸ¥çœ‹çŠ¶æ€
python main.py --stats

# æŸ¥çœ‹æˆæœ¬
python main.py --cost

# è¿è¡Œæµ‹è¯•
python -m pytest tests/

# æ¸…ç†ä¸´æ—¶æ–‡ä»¶
rm -rf data/temp/*
```

---

**ç‰ˆæœ¬**: v1.0.0  
**æœ€åæ›´æ–°**: 2025-09-01  
**ç»´æŠ¤**: auto_movieå¼€å‘å›¢é˜Ÿ

*è®©AIä¸ºä½ çš„æ–‡å­—æ’ä¸Šè§†é¢‘çš„ç¿…è†€ï¼* ğŸ¬âœ¨