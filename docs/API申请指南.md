# 火山引擎API申请指南

## 🔑 需要申请的API服务

### 1. 豆包大语言模型 (LLM)
**用途**: 生成视频分镜脚本
**申请地址**: https://www.volcengine.com/docs/82379/1449737
**所需权限**: 
- 豆包-pro-32k 模型
- Chat API调用权限

### 2. 文生图大模型 
**用途**: 根据描述生成图片
**申请地址**: https://www.volcengine.com/docs/82379/1548482
**所需权限**:
- 通用文生图 v2.0 模型
- 输出尺寸: 512×768 (9:16比例)

### 3. 图生视频大模型
**用途**: 将静态图片转换为动态视频
**申请地址**: https://www.volcengine.com/docs/82379/1366799  
**所需权限**:
- 图生视频 v1.0 模型
- 视频时长: 5-6秒

### 4. 语音合成 (TTS)
**用途**: 将文字转换为语音
**申请地址**: https://www.volcengine.com/docs/6561/1719100
**所需权限**:
- 精品女声/男声
- 音质: 24kHz

### 5. 对象存储 TOS (可选)
**用途**: 存储生成的视频文件
**申请地址**: https://www.volcengine.com/docs/6349/92785
**所需权限**:
- 创建存储桶权限
- 文件上传下载权限

## 📝 申请步骤

### Step 1: 注册火山引擎账号
1. 访问 https://www.volcengine.com
2. 注册并完成实名认证
3. 完成企业认证(个人认证也可以)

### Step 2: 开通各项服务
1. 登录控制台
2. 分别开通上述5个服务
3. 获取API密钥 (Access Key + Secret Key)

### Step 3: 申请模型权限
1. 进入各模型的控制台页面
2. 申请模型使用权限
3. 等待审核通过(通常1-3个工作日)

### Step 4: 获取调用信息
获取以下信息并记录:
```yaml
# 需要获取的信息
volcengine:
  access_key_id: "你的AccessKeyId"
  secret_access_key: "你的SecretAccessKey" 
  region: "cn-north-1"  # 地域
  
models:
  # 各模型的endpoint，格式如下:
  llm_endpoint: "ep-20241230140000-xxxxx"
  t2i_endpoint: "ep-20241230140000-xxxxx"
  i2v_endpoint: "ep-20241230140000-xxxxx"
  tts_endpoint: "ep-20241230140000-xxxxx"
```

## 💰 成本预估

### 免费额度 (新用户)
- LLM: 通常有一定免费调用次数
- 文生图: 可能有100-500张免费额度
- 图生视频: 可能有10-50次免费额度
- TTS: 通常有免费字符额度

### 付费价格 (参考)
- LLM: ¥0.012/1k token
- 文生图: ¥0.025/张
- 图生视频: ¥0.15/次 (5秒)
- TTS: ¥0.0002/字

### 单条视频预估成本
- LLM: ¥0.02
- 文生图(15张): ¥0.375
- 图生视频(3次): ¥0.45
- TTS: ¥0.10
- **总计: ≈¥0.95/条**

## ⚠️ 注意事项

1. **审核时间**: 某些模型需要人工审核，建议提前申请
2. **配额限制**: 初期可能有调用频率限制，需要申请提升
3. **内容审核**: 生成的内容会经过自动审核，注意合规性
4. **成本控制**: 建议设置每日消费上限，避免超支

## 🔧 测试连通性

申请完成后，可以用以下代码测试API连通性:

```python
# 测试代码示例
import requests

def test_api_connection():
    # 这里放测试代码
    pass
```

---

**重要**: 申请完成后，将密钥信息填入 `config.yaml` 文件中，不要提交到git仓库！